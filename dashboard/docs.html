<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RONIN // DOCS</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="../style.css">
    <style>
        /* --- DOCS SPECIFIC STYLES --- */
        body {
            background-color: #050505;
            color: #ccc;
            /* Subtle grid background */
            background-image: 
                linear-gradient(rgba(51, 51, 51, 0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(51, 51, 51, 0.2) 1px, transparent 1px);
            background-size: 40px 40px;
            background-attachment: fixed;
        }

        .docs-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }

        /* SIDEBAR */
        .docs-sidebar {
            background: #000;
            border-right: 1px solid #333;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            padding: 30px;
            display: flex;
            flex-direction: column;
            z-index: 100;
        }

        .docs-logo {
            font-size: 20px;
            font-weight: 900;
            color: white;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .search-box {
            background: #0a0a0a;
            border: 1px solid #333;
            padding: 10px 15px;
            color: #666;
            font-family: monospace;
            font-size: 14px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: 0.2s;
        }
        
        .search-box:hover { border-color: var(--accent); color: white; }

        .kbd {
            border: 1px solid #444;
            padding: 2px 6px;
            font-size: 10px;
            color: #888;
            background: #111;
        }

        .doc-nav-group {
            margin-bottom: 30px;
        }

        .doc-nav-title {
            font-size: 11px;
            font-weight: bold;
            color: var(--accent);
            text-transform: uppercase;
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        .doc-link {
            display: block;
            color: #888;
            text-decoration: none;
            padding: 8px 0;
            font-size: 14px;
            transition: 0.2s;
            border-left: 2px solid transparent;
            padding-left: 15px;
            margin-left: -17px;
            font-family: monospace;
        }

        .doc-link:hover, .doc-link.active {
            color: white;
            border-left-color: var(--accent);
            background: linear-gradient(90deg, rgba(255,255,255,0.05), transparent);
        }

        /* CONTENT */
        .docs-content {
            padding: 80px 100px;
            max-width: 1100px;
            background: rgba(5, 5, 5, 0.95);
        }

        .docs-content h1 {
            font-size: 3.5rem;
            color: white;
            margin-bottom: 20px;
            line-height: 1;
            text-transform: uppercase;
        }

        .docs-content h2 {
            font-size: 2rem;
            color: white;
            margin-top: 80px;
            margin-bottom: 30px;
            border-bottom: 1px solid #333;
            padding-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .h2-hash { color: var(--accent); font-size: 1.5rem; opacity: 0.5; }

        .docs-content h3 {
            font-size: 1.5rem;
            color: white;
            margin-top: 50px;
            margin-bottom: 20px;
        }

        .docs-content p {
            line-height: 1.8;
            margin-bottom: 25px;
            font-size: 1.15rem;
            color: #bbb;
        }

        .docs-content ul {
            margin-bottom: 30px;
            padding-left: 20px;
            list-style: none;
        }

        .docs-content li {
            margin-bottom: 15px;
            line-height: 1.6;
            position: relative;
            padding-left: 25px;
        }
        
        .docs-content li::before {
            content: ">>";
            color: var(--accent);
            position: absolute;
            left: 0;
            font-family: monospace;
            font-size: 12px;
            top: 4px;
        }

        /* Code Blocks */
        .code-window {
            background: #000;
            border: 1px solid #333;
            margin: 40px 0;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }
        
        .code-header {
            background: #111;
            padding: 8px 15px;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: monospace;
            font-size: 12px;
            color: #666;
        }
        
        .code-body {
            padding: 25px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            color: #ccc;
            font-size: 14px;
            line-height: 1.5;
        }

        .copy-btn {
            background: transparent;
            border: 1px solid #444;
            color: #888;
            padding: 2px 8px;
            font-size: 10px;
            cursor: pointer;
            text-transform: uppercase;
            transition: 0.2s;
        }

        .copy-btn:hover { border-color: var(--accent); color: var(--accent); }

        .token-cmd { color: var(--accent); font-weight: bold; }
        .token-arg { color: white; }
        .token-comment { color: #555; font-style: italic; }
        .token-key { color: #ff5f56; }
        .token-val { color: #27c93f; }

        /* Alerts */
        .doc-alert {
            padding: 25px;
            margin: 40px 0;
            border: 1px solid;
            background: #080808;
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .alert-warning { border-color: #ff5f56; }
        .alert-info { border-color: var(--accent); }

        .alert-icon {
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .alert-warning .alert-icon { color: #ff5f56; }
        .alert-info .alert-icon { color: var(--accent); }

        .alert-content h4 {
            margin: 0 0 10px 0;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 1px;
        }
        
        .alert-warning h4 { color: #ff5f56; }
        .alert-info h4 { color: var(--accent); }
        
        .alert-content p { margin: 0; font-size: 1rem; color: #999; }

        /* OVERRIDE FOOTER (Fix for white bar) */
        footer.docs-footer {
            margin-top: 100px;
            border-top: 1px solid #333;
            padding-top: 40px;
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 14px;
            background: transparent !important; /* Force overrides */
        }

        @media (max-width: 900px) {
            .docs-container { grid-template-columns: 1fr; }
            .docs-sidebar { height: auto; border-right: none; border-bottom: 1px solid #333; padding: 20px; position: relative; }
            .docs-content { padding: 40px 20px; }
        }
    </style>
</head>
<body>

    <div class="docs-container">
        
        <aside class="docs-sidebar">
            <a href="index.html" class="docs-logo">
                <i data-lucide="book"></i> RONIN_DOCS
            </a>
            
            <div class="search-box">
                <span>Search...</span>
                <span class="kbd">CTRL K</span>
            </div>

            <div class="doc-nav-group">
                <div class="doc-nav-title">01. Start Here</div>
                <a href="#intro" class="doc-link active">Manifesto & Intro</a>
                <a href="#install" class="doc-link">Installation</a>
                <a href="#quickstart" class="doc-link">First Deploy</a>
            </div>

            <div class="doc-nav-group">
                <div class="doc-nav-title">02. Core Concepts</div>
                <a href="#arch" class="doc-link">Architecture</a>
                <a href="#roninfile" class="doc-link">The Roninfile</a>
                <a href="#networking" class="doc-link">Networking (io_uring)</a>
                <a href="#secrets" class="doc-link">Secrets Vault</a>
            </div>

            <div class="doc-nav-group">
                <div class="doc-nav-title">03. CLI Reference</div>
                <a href="#cli-init" class="doc-link">ronin init</a>
                <a href="#cli-deploy" class="doc-link">ronin deploy</a>
                <a href="#cli-kill" class="doc-link">ronin kill</a>
                <a href="#cli-logs" class="doc-link">ronin logs</a>
            </div>

            <div class="doc-nav-group">
                <div class="doc-nav-title">04. Extras</div>
                <a href="#languages" class="doc-link">Language Support</a>
                <a href="#troubleshooting" class="doc-link">Troubleshooting</a>
            </div>

            <div style="margin-top: auto;">
                <a href="index.html" class="doc-link" style="color: white; border: 1px solid #333; padding: 10px; text-align: center; margin: 0;">
                    <- Back to Base
                </a>
            </div>
        </aside>

        <main class="docs-content">
            
            <div id="intro">
                <div style="margin-bottom: 20px; display: flex; align-items: center; gap: 15px;">
                    <span style="background: var(--accent); color: black; padding: 4px 8px; font-size: 12px; font-family: monospace; font-weight: bold;">STABLE v2.1.0</span>
                    <span style="color: #666; font-family: monospace;">LAST_UPDATE: 2 HOURS AGO</span>
                </div>
                <h1>DEPLOYMENT FOR <br><span class="text-highlight">THE MASTERLESS</span></h1>
                <p>
                    Ronin is a masterless deployment engine. It replaces the complexity of Kubernetes and the astronomical cost of Vercel with a single binary that runs on your own hardware.
                </p>
                <p>
                    We built Ronin because we believe <strong>infrastructure should be boring</strong>. You shouldn't need a PhD in YAML to put a Docker container on the internet. You should own your data, your uptime, and your destiny.
                </p>
            </div>

            <div id="install">
                <h2><span class="h2-hash">#</span> INSTALLATION</h2>
                <p>
                    Ronin runs on any Linux system with a kernel version of 5.10 or higher. We recommend Ubuntu 22.04 LTS (AMD64 or ARM64).
                </p>
                
                <div class="doc-alert alert-warning">
                    <i data-lucide="alert-triangle" class="alert-icon"></i>
                    <div class="alert-content">
                        <h4>Root Access Required</h4>
                        <p>Ronin requires root privileges to interact with Linux Namespaces, Cgroups, and the Firewall (iptables). Run the installer as root or with sudo.</p>
                    </div>
                </div>

                <h3>The One-Liner</h3>
                <p>Run this command on your fresh VPS. It detects your CPU arch, pulls the binary, and sets up systemd.</p>

                <div class="code-window">
                    <div class="code-header">
                        <span>bash</span>
                        <button class="copy-btn">COPY</button>
                    </div>
                    <div class="code-body">
                        <span class="token-cmd">curl</span> <span class="token-arg">-sL https://get.ronin.dev/install.sh | sudo bash</span>
                    </div>
                </div>

                <p><strong>What this script does:</strong></p>
                <ul>
                    <li>Downloads the latest <code>ronin-core</code> binary to <code>/usr/local/bin</code>.</li>
                    <li>Creates the <code>ronin</code> user group.</li>
                    <li>Installs the systemd service so Ronin starts on boot.</li>
                    <li>Configures <code>ufw</code> to allow ports 80, 443, and 6443 (Internal API).</li>
                </ul>
            </div>

            <div id="quickstart">
                <h2><span class="h2-hash">#</span> FIRST DEPLOY</h2>
                <p>Once installed on your server, go to your local machine (your laptop) and install the CLI.</p>
                
                <div class="code-window">
                    <div class="code-header"><span>Local Terminal</span></div>
                    <div class="code-body">
                        <span class="token-cmd">npm</span> <span class="token-arg">i -g @ronin/cli</span><br>
                        <span class="token-cmd">ronin</span> <span class="token-arg">login --host [YOUR_VPS_IP]</span>
                    </div>
                </div>

                <p>Now, navigate to any Node.js, Go, or Rust project and ship it.</p>

                <div class="code-window">
                    <div class="code-header"><span>Local Terminal</span></div>
                    <div class="code-body">
                        <span class="token-cmd">cd</span> <span class="token-arg">my-awesome-project</span><br>
                        <span class="token-cmd">ronin</span> <span class="token-arg">deploy</span>
                    </div>
                </div>
            </div>

            <div id="arch">
                <h2><span class="h2-hash">#</span> ARCHITECTURE</h2>
                <p>
                    Ronin follows a "Shared Nothing" architecture. Unlike Kubernetes, there is no etcd cluster to manage. Every node is self-contained and holds its own state in SQLite.
                </p>

                <div class="code-window">
                    <div class="code-header">
                        <span>architecture.txt</span>
                    </div>
                    <div class="code-body" style="white-space: pre;">
   [INTERNET]
       |
       v
 +------------+
 | EDGE PROXY |  <-- Rust/Hyper (Handle SSL, Routing)
 +------------+
       |
       +------------------+------------------+
       |                  |                  |
       v                  v                  v
 +-----------+      +-----------+      +-----------+
 | Container |      | Container |      | Container |
 | (NodeJS)  |      |  (Rust)   |      |  (Go)     |
 +-----------+      +-----------+      +-----------+
       ^                  ^                  ^
       |                  |                  |
 +-----------------------------------------------+
 |              RONIN CORE ENGINE                | <-- SQLite State
 +-----------------------------------------------+
                    </div>
                </div>

                <h3>The Components</h3>
                <ul>
                    <li><strong>The Eye (Proxy):</strong> A high-performance, Rust-based reverse proxy. It sits at the edge, terminates SSL (via Let's Encrypt), and uses <code>io_uring</code> to pipe data to containers with zero-copy overhead.</li>
                    <li><strong>The Forge (Builder):</strong> An on-demand build system. It detects your `Dockerfile`, builds it, caches the layers, and hot-swaps the running container with zero downtime.</li>
                    <li><strong>The Vault (Secrets):</strong> Keys are encrypted at rest using AES-256-GCM. We do not store keys in plain text environment variables. They are injected directly into the process memory at runtime.</li>
                </ul>

                <div class="doc-alert alert-info">
                    <i data-lucide="info" class="alert-icon"></i>
                    <div class="alert-content">
                        <h4>Disaster Recovery</h4>
                        <p>Because Ronin uses SQLite, backing up your entire cluster state is as simple as copying the <code>/var/lib/ronin/ronin.db</code> file to S3.</p>
                    </div>
                </div>
            </div>

            <div id="roninfile">
                <h2><span class="h2-hash">#</span> THE RONINFILE</h2>
                <p>
                    While Ronin works with zero config, you can control exact behavior by adding a `ronin.toml` to your root.
                </p>

                <div class="code-window">
                    <div class="code-header"><span>ronin.toml</span></div>
                    <div class="code-body">
                        <span class="token-key">[project]</span><br>
                        <span class="token-key">name</span> = <span class="token-val">"api-gateway"</span><br>
                        <span class="token-key">type</span> = <span class="token-val">"docker"</span><br><br>

                        <span class="token-key">[deployment]</span><br>
                        <span class="token-key">strategy</span> = <span class="token-val">"rolling"</span> <span class="token-comment"># or "recreate"</span><br>
                        <span class="token-key">replicas</span> = <span class="token-val">2</span><br><br>

                        <span class="token-key">[resources]</span><br>
                        <span class="token-key">cpu_limit</span> = <span class="token-val">"0.5"</span><br>
                        <span class="token-key">memory_limit</span> = <span class="token-val">"512mb"</span>
                    </div>
                </div>
            </div>

            <div id="networking">
                <h2><span class="h2-hash">#</span> NETWORKING (IO_URING)</h2>
                <p>
                    We built our proxy on top of Linux's modern asynchronous I/O interface, <code>io_uring</code>. This allows us to perform network operations without the CPU context-switching overhead of standard <code>epoll</code>.
                </p>
                <div class="doc-alert alert-info">
                    <i data-lucide="info" class="alert-icon"></i>
                    <div class="alert-content">
                        <h4>Performance Note</h4>
                        <p>This is how we achieve 10Gbps throughput on single-core setups. Traffic is piped directly from the NIC to the container socket via kernel space.</p>
                    </div>
                </div>
            </div>

            <div id="secrets">
                <h2><span class="h2-hash">#</span> SECRETS VAULT</h2>
                <p>
                    Environment variables are often the weakest link in security. Ronin solves this with a built-in Vault.
                </p>
                <p>
                    When you run <code>ronin secrets set DB_PASS=supersecret</code>, the CLI encrypts the value using your server's public key <em>before</em> sending it over the wire. The server decrypts it only when injecting it into a container process.
                </p>
            </div>

            <div id="cli-reference">
                <h2><span class="h2-hash">#</span> CLI REFERENCE</h2>
                
                <h3 id="cli-init">ronin init</h3>
                <p>Initializes a new project in the current directory. Creates a `ronin.toml` template.</p>
                
                <h3 id="cli-deploy">ronin deploy</h3>
                <p>Builds and ships the current directory. Flags:</p>
                <ul>
                    <li><code>--prod</code>: Deploys to production environment.</li>
                    <li><code>--force</code>: Bypasses cache and rebuilds all layers.</li>
                    <li><code>--detach</code>: Returns immediately without waiting for health checks.</li>
                </ul>

                <h3 id="cli-kill">ronin kill</h3>
                <p><strong>THE KILL SWITCH.</strong> Use only in emergencies.</p>
                <div class="code-window">
                    <div class="code-header"><span>Panic Mode</span></div>
                    <div class="code-body">
                        <span class="token-cmd">$ ronin kill</span> <span class="token-arg">--target all --rotate-keys</span>
                    </div>
                </div>
                <p>This command drops all incoming connections at the proxy level (Layer 4) and rotates all encryption keys in the Vault.</p>

                <h3 id="cli-logs">ronin logs</h3>
                <p>Streams live logs from all replicas. Supports grep-like filtering.</p>
            </div>

            <div id="languages">
                <h2><span class="h2-hash">#</span> LANGUAGE SUPPORT</h2>
                <p>Ronin automatically detects and builds the following:</p>
                <ul>
                    <li><strong>Node.js:</strong> Detects `package.json`. Uses `npm start` or `yarn start`.</li>
                    <li><strong>Go:</strong> Detects `go.mod`. Compiles a static binary.</li>
                    <li><strong>Rust:</strong> Detects `Cargo.toml`. Builds with `--release`.</li>
                    <li><strong>Python:</strong> Detects `requirements.txt`. Runs via Gunicorn.</li>
                    <li><strong>Docker:</strong> If a `Dockerfile` exists, we use that over anything else.</li>
                </ul>
            </div>

            <div id="troubleshooting">
                <h2><span class="h2-hash">#</span> TROUBLESHOOTING</h2>
                <p><strong>"My deploy failed but I don't know why."</strong></p>
                <p>Run the builder in verbose mode to see the raw container output:</p>
                <div class="code-window">
                    <div class="code-body">
                        <span class="token-cmd">ronin</span> <span class="token-arg">deploy --verbose</span>
                    </div>
                </div>
                <p><strong>"I can't connect to my VPS."</strong></p>
                <p>Check if port 6443 is open on your firewall. This is the port Ronin uses for the encrypted control plane API.</p>
            </div>

            <footer class="docs-footer">
                <div>&copy; 2025 RONIN. OPEN SOURCE.</div>
                <div style="font-family: monospace; cursor: pointer; color: var(--accent);">edit_on_github()</div>
            </footer>

        </main>
    </div>

    <script>
        lucide.createIcons();
        
        // Simple active state toggler for sidebar links
        const links = document.querySelectorAll('.doc-link');
        links.forEach(link => {
            link.addEventListener('click', function() {
                links.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>